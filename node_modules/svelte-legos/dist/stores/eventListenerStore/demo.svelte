<script>import { eventListenerStore } from "../..";
import DemoContainer from "../../shared/components/DemoContainer.svelte";
import Text from "../../shared/components/Text.svelte";
import { PrimaryButtonClassName } from "../../shared/tailwind";
import { onMount } from "svelte";
let buttonRef;
let documentRef;
const onScroll = (event) => {
  console.log("window scrolled!", event);
};
const onClick = (event) => {
  console.log("button clicked!", event);
};
const onVisibilityChange = (event) => {
  console.log("doc visibility changed!", {
    isVisible: !document.hidden,
    event
  });
};
onMount(() => {
  eventListenerStore("scroll", onScroll);
  eventListenerStore("visibilitychange", onVisibilityChange, documentRef);
  eventListenerStore("click", onClick, buttonRef);
});
</script>

<DemoContainer>
	<p class="mb-4">Check console for logs.</p>
	<button class={PrimaryButtonClassName} bind:this={buttonRef}>Click me</button>
</DemoContainer>
